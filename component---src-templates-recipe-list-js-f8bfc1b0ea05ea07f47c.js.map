{"version":3,"sources":["webpack:///./src/components/pagination.js","webpack:///./src/templates/recipe-list.js","webpack:///./src/components/back-button.js","webpack:///./src/components/recipe.js","webpack:///./src/components/recipes.js"],"names":["TO_FIRST","page","name","Pagination","location","pagination","numPages","currentPage","fields","arr","toLast","end","start","prevStart","push","i","nextEnd","console","log","className","map","f","key","to","pathname","replace","RecipeListTemplate","data","pageContext","title","recipes","allMarkdownRemark","nodes","path","containerTitle","BackButton","state","prevPath","prevTitle","id","itemProp","Recipe","recipe","frontmatter","useState","loaded","handleImgLoaded","slug","src","image","onLoad","alt","style","display","undefined","author","time","portion","Recipes","r"],"mappings":"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","file":"component---src-templates-recipe-list-js-f8bfc1b0ea05ea07f47c.js","sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst DOTS = \"...\"\nconst FIRST_PAGE = 1\nconst TO_FIRST = {\n  page: FIRST_PAGE,\n  name: FIRST_PAGE,\n}\n\nconst Pagination = ({ location, pagination }) => {\n  const { numPages, currentPage, fields } = pagination\n  const arr = []\n  const toLast = {\n    page: numPages,\n    name: numPages,\n  }\n  const end = currentPage + fields\n  let start = FIRST_PAGE\n\n  if (currentPage > fields) {\n    start = currentPage - fields\n  }\n\n  if (currentPage > fields + 1) {\n    const prevStart = start - 1\n    arr.push(TO_FIRST)\n    if (prevStart > 1) {\n      arr.push({ page: start === 0 ? 1 : start - 1, name: DOTS })\n    }\n  }\n\n  for (let i = start; i <= end; i++) {\n    arr.push({ page: i, name: i })\n    if (i === numPages) break\n  }\n\n  if (end < numPages) {\n    const nextEnd = end + 1\n    if (nextEnd < numPages) {\n      arr.push({ page: nextEnd, name: DOTS })\n    }\n    arr.push(toLast)\n  }\n\n  console.log(arr)\n\n  return (\n    <ol className=\"pagination\">\n      {arr.map(f => {\n        const { page, name } = f\n        const key = `pagination-number${page}`\n        if (page === currentPage) {\n          return (\n            <li key={key}>\n              <span>{name}</span>\n            </li>\n          )\n        } else {\n          return (\n            <li key={key}>\n              <Link\n                key={key}\n                to={`${location.pathname.replace(/(\\/[0-9]+$)|\\/$/, \"\")}/${\n                  page === FIRST_PAGE ? \"\" : page\n                }`}\n              >\n                {name}\n              </Link>\n            </li>\n          )\n        }\n      })}\n    </ol>\n  )\n}\n\nexport default Pagination\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Pagination from \"../components/pagination\"\nimport Recipes from \"../components/recipes\"\nimport BackButton from \"../components/back-button\"\n\nconst RecipeListTemplate = ({ data, location, pageContext }) => {\n  const { numPages, currentPage, title } = pageContext\n  const recipes = data.allMarkdownRemark.nodes\n\n  return (\n    <Layout location={location} title={title}>\n      <SEO title={title} />\n      <h1>{title}</h1>\n\n      <BackButton location={location} path=\"/wiki/cooking\" title=\"Recetas\" />\n\n      <Recipes recipes={recipes} location={location} containerTitle={title} />\n\n      {numPages > 1 && (\n        <Pagination\n          location={location}\n          pagination={{ numPages, currentPage, fields: 3 }}\n        />\n      )}\n    </Layout>\n  )\n}\n\nexport default RecipeListTemplate\n\nexport const recipeListQuery = graphql`\n  query recipeListQuery($skip: Int!, $limit: Int!, $regex: String!) {\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___title], order: ASC }\n      filter: {\n        frontmatter: { draft: { ne: true } }\n        fileAbsolutePath: { regex: $regex }\n      }\n      limit: $limit\n      skip: $skip\n    ) {\n      nodes {\n        fields {\n          slug\n        }\n        frontmatter {\n          title\n          author\n          image\n          portion\n          time\n        }\n      }\n    }\n  }\n`\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst BackButton = ({ location, path, title }) => {\n  if (!path) {\n    path = location.state?.prevPath\n  }\n\n  if (!title) {\n    title = location.state?.prevTitle\n  }\n\n  return path && title ? (\n    <Link id=\"go-back\" to={path} itemProp=\"url\">\n      <span>&#x2190;</span> {title}\n    </Link>\n  ) : (\n    <p></p>\n  )\n}\n\nexport default BackButton\n","import React, { useState } from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Recipe = ({ recipe, location, containerTitle }) => {\n  const { frontmatter, fields } = recipe\n  const [loaded, handleImgLoaded] = useState(false)\n\n  return (\n    <li key={frontmatter.title}>\n      <Link\n        key={frontmatter.title}\n        to={fields.slug}\n        itemProp=\"url\"\n        state={{ prevPath: location.pathname, prevTitle: containerTitle }}\n      >\n        <section className=\"image\">\n          {!loaded ? <div className=\"skeleton\"></div> : null}\n          <img\n            src={frontmatter.image}\n            onLoad={() => handleImgLoaded(!loaded)}\n            alt={frontmatter.title}\n            style={{\n              display: !loaded ? \"none\" : undefined,\n            }}\n          />\n        </section>\n        <section className=\"recipe-spec-container\">\n          <div>\n            <h5>{frontmatter.title}</h5>\n            <small className=\"author\">{frontmatter.author}</small>\n          </div>\n          <div>\n            <div className=\"separator-line\"></div>\n            <div className=\"recipe-spec\">\n              <div className=\"recipe-spec-time\">\n                <small className=\"spec-key\">Tiempo</small>\n                <small>{frontmatter.time}</small>\n              </div>\n              <div className=\"recipe-spec-portion\">\n                <small className=\"spec-key\">Porci√≥n</small>\n                <small>{frontmatter.portion || \"-\"}</small>\n              </div>\n            </div>\n          </div>\n        </section>\n      </Link>\n    </li>\n  )\n}\n\nexport default Recipe\n","import React from \"react\"\n\nimport Recipe from \"./recipe\"\n\nconst Recipes = ({ recipes, location, containerTitle }) => {\n  return (\n    <div className=\"recipe-list-container\">\n      <ul className=\"recipe-list\">\n        {recipes.map(r => (\n          <Recipe\n            key={r.frontmatter.title}\n            recipe={r}\n            location={location}\n            containerTitle={containerTitle}\n          />\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default Recipes\n"],"sourceRoot":""}