{"version":3,"sources":["webpack:///./src/components/pagination.js","webpack:///./src/components/recipe.js","webpack:///./src/templates/recipe-list.js","webpack:///./src/components/back-button.js"],"names":["TO_FIRST","page","name","Pagination","location","pagination","numPages","currentPage","fields","arr","toLast","end","start","prevStart","push","i","nextEnd","console","log","className","map","f","key","to","pathname","replace","Recipe","recipe","containerTitle","frontmatter","useState","loaded","handleImgLoaded","title","slug","itemProp","state","prevPath","prevTitle","src","image","onLoad","alt","style","display","undefined","author","time","portion","RecipeListTemplate","data","pageContext","recipes","allMarkdownRemark","nodes","path","r","BackButton","id"],"mappings":"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","file":"component---src-templates-recipe-list-js-4eef5b7b46b13c5bcf07.js","sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst DOTS = \"...\"\nconst FIRST_PAGE = 1\nconst TO_FIRST = {\n  page: FIRST_PAGE,\n  name: FIRST_PAGE,\n}\n\nconst Pagination = ({ location, pagination }) => {\n  const { numPages, currentPage, fields } = pagination\n  const arr = []\n  const toLast = {\n    page: numPages,\n    name: numPages,\n  }\n  const end = currentPage + fields\n  let start = FIRST_PAGE\n\n  if (currentPage > fields) {\n    start = currentPage - fields\n  }\n\n  if (currentPage > fields + 1) {\n    const prevStart = start - 1\n    arr.push(TO_FIRST)\n    if (prevStart > 1) {\n      arr.push({ page: start === 0 ? 1 : start - 1, name: DOTS })\n    }\n  }\n\n  for (let i = start; i <= end; i++) {\n    arr.push({ page: i, name: i })\n    if (i === numPages) break\n  }\n\n  if (end < numPages) {\n    const nextEnd = end + 1\n    if (nextEnd < numPages) {\n      arr.push({ page: nextEnd, name: DOTS })\n    }\n    arr.push(toLast)\n  }\n\n  console.log(arr)\n\n  return (\n    <ol className=\"pagination\">\n      {arr.map(f => {\n        const { page, name } = f\n        const key = `pagination-number${page}`\n        if (page === currentPage) {\n          return (\n            <li key={key}>\n              <span>{name}</span>\n            </li>\n          )\n        } else {\n          return (\n            <li key={key}>\n              <Link\n                key={key}\n                to={`${location.pathname.replace(/(\\/[0-9]+$)|\\/$/, \"\")}/${\n                  page === FIRST_PAGE ? \"\" : page\n                }`}\n              >\n                {name}\n              </Link>\n            </li>\n          )\n        }\n      })}\n    </ol>\n  )\n}\n\nexport default Pagination\n","import React, { useState } from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Recipe = ({ recipe, location, containerTitle }) => {\n  const { frontmatter, fields } = recipe\n  const [loaded, handleImgLoaded] = useState(false)\n\n  return (\n    <li key={frontmatter.title}>\n      <Link\n        key={frontmatter.title}\n        to={fields.slug}\n        itemProp=\"url\"\n        state={{ prevPath: location.pathname, prevTitle: containerTitle }}\n      >\n        <section className=\"image\">\n          {!loaded ? <div className=\"skeleton\"></div> : null}\n          <img\n            src={frontmatter.image}\n            onLoad={() => handleImgLoaded(!loaded)}\n            alt={frontmatter.title}\n            style={{\n              display: !loaded ? \"none\" : undefined,\n            }}\n          />\n        </section>\n        <section className=\"recipe-spec-container\">\n          <div>\n            <h6>{frontmatter.title}</h6>\n            <small className=\"author\">{frontmatter.author}</small>\n          </div>\n          <div>\n            <div className=\"separator-line\"></div>\n            <div className=\"recipe-spec\">\n              <div className=\"recipe-spec-time\">\n                <small className=\"spec-key\">Tiempo</small>\n                <small>{frontmatter.time}</small>\n              </div>\n              <div className=\"recipe-spec-portion\">\n                <small className=\"spec-key\">Porci√≥n</small>\n                <small>{frontmatter.portion || \"-\"}</small>\n              </div>\n            </div>\n          </div>\n        </section>\n      </Link>\n    </li>\n  )\n}\n\nexport default Recipe\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Pagination from \"../components/pagination\"\nimport Recipe from \"../components/recipe\"\nimport BackButton from \"../components/back-button\"\n\nconst RecipeListTemplate = ({ data, location, pageContext }) => {\n  const { numPages, currentPage, title } = pageContext\n  const recipes = data.allMarkdownRemark.nodes\n\n  return (\n    <Layout location={location} title={title}>\n      <SEO title={title} />\n      <h1>{title}</h1>\n\n      <BackButton location={location} path=\"/wiki/cooking\" title=\"Recetas\" />\n\n      <ul className=\"recipe-list\">\n        {recipes.map(r => (\n          <Recipe\n            key={r.frontmatter.title}\n            recipe={r}\n            location={location}\n            containerTitle={title}\n          />\n        ))}\n      </ul>\n\n      {numPages > 1 && (\n        <Pagination\n          location={location}\n          pagination={{ numPages, currentPage, fields: 3 }}\n        />\n      )}\n    </Layout>\n  )\n}\n\nexport default RecipeListTemplate\n\nexport const recipeListQuery = graphql`\n  query recipeListQuery($skip: Int!, $limit: Int!, $regex: String!) {\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___title], order: ASC }\n      filter: {\n        frontmatter: { draft: { ne: true } }\n        fileAbsolutePath: { regex: $regex }\n      }\n      limit: $limit\n      skip: $skip\n    ) {\n      nodes {\n        fields {\n          slug\n        }\n        frontmatter {\n          title\n          author\n          image\n          portion\n          time\n        }\n      }\n    }\n  }\n`\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst BackButton = ({ location, path, title }) => {\n  if (!path) {\n    path = location.state?.prevPath\n  }\n\n  if (!title) {\n    title = location.state?.prevTitle\n  }\n\n  return path && title ? (\n    <Link id=\"go-back\" to={path} itemProp=\"url\">\n      <span>ü†ê</span> {title}\n    </Link>\n  ) : (\n    <p></p>\n  )\n}\n\nexport default BackButton\n"],"sourceRoot":""}