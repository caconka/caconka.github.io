{"version":3,"sources":["webpack:///./src/components/book.js","webpack:///./src/components/books.js","webpack:///./src/components/library.js","webpack:///./src/pages/wiki/library/lule.js"],"names":["Book","book","isReadingOrReaded","readings","length","key","title","className","to","link","itemProp","src","image","alt","author","name","map","r","end_date","start_date","Books","readed","reading","wantToRead","useState","showWantToRead","toggleWantToRead","showReading","toggleReading","showReaded","toggleReaded","onClick","b","FILTER","filterBooks","books","filters","filter","k","Date","getFullYear","includes","Library","location","library","readingBooks","readedBooks","sortedBooks","sort","a","forEach","push","lastReading","lastYear","now","selectYears","Array","from","_","i","y","value","label","updateBooks","year","selectYear","path","onChange","options","theme","borderRadius","colors","primary25","primary","want_to_read","LibraryCharlie"],"mappings":"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","file":"component---src-pages-wiki-library-lule-js-29a31fa85fc815be3594.js","sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Book = ({ book }) => {\n  const isReadingOrReaded = book.readings.length > 0\n\n  return (\n    <li key={book.title} className=\"book-item\">\n      <section className=\"image\">\n        <Link to={book.link} itemProp=\"url\">\n          <img src={book.image} alt={book.title} />\n        </Link>\n      </section>\n      <section>\n        <h4>{book.title}</h4>\n        <span>\n          De{\" \"}\n          <Link to={book.author.link} itemProp=\"url\">\n            {book.author.name}\n          </Link>\n        </span>\n        {isReadingOrReaded && (\n          <div>\n            <span>Lecturas:</span>\n            <ul>\n              {book.readings.map(r => {\n                if (r.end_date && r.end_date !== \"\") {\n                  return (\n                    <li key={r.start_date}>\n                      <span>\n                        Del <time>{r.start_date}</time> al{\" \"}\n                        <time>{r.end_date}</time>\n                      </span>\n                    </li>\n                  )\n                } else {\n                  return (\n                    <li key={r.start_date}>\n                      <span>\n                        Empezado el <time>{r.start_date}</time>\n                      </span>\n                    </li>\n                  )\n                }\n              })}\n            </ul>\n          </div>\n        )}\n      </section>\n    </li>\n  )\n}\n\nexport default Book\n","import React, { useState } from \"react\"\n\nimport Book from \"./book\"\n\nconst Books = ({ readed, reading, wantToRead }) => {\n  const title = \"book-list-container\"\n  const [showWantToRead, toggleWantToRead] = useState(false)\n  const [showReading, toggleReading] = useState(true)\n  const [showReaded, toggleReaded] = useState(true)\n\n  return (\n    <div key={title} className={title}>\n      {wantToRead?.length > 0 && (\n        <>\n          <button onClick={() => toggleWantToRead(!showWantToRead)}>\n            <h2>\n              <span\n                className={\n                  showWantToRead ? \"text-shadow\" : \"text-shadow-disabled\"\n                }\n              >\n                Quiero leer\n              </span>\n            </h2>\n          </button>\n          {showWantToRead && (\n            <ol className=\"book-list\">\n              {wantToRead.map(b => (\n                <Book book={b} />\n              ))}\n            </ol>\n          )}\n        </>\n      )}\n      {reading.length > 0 && (\n        <>\n          <button onClick={() => toggleReading(!showReading)}>\n            <h2>\n              <span\n                className={showReading ? \"text-shadow\" : \"text-shadow-disabled\"}\n              >\n                Leyendo\n              </span>\n            </h2>\n          </button>\n          {showReading && (\n            <ol className=\"book-list\">\n              {reading.map(b => (\n                <Book book={b} />\n              ))}\n            </ol>\n          )}\n        </>\n      )}\n      <button onClick={() => toggleReaded(!showReaded)}>\n        <h2>\n          <span className={showReaded ? \"text-shadow\" : \"text-shadow-disabled\"}>\n            Leídos\n          </span>\n        </h2>\n      </button>\n      {showReaded && (\n        <ol className=\"book-list\">\n          {readed.map(b => (\n            <Book book={b} />\n          ))}\n        </ol>\n      )}\n    </div>\n  )\n}\n\nexport default Books\n","import React, { useState } from \"react\"\nimport Select from \"react-select\"\n\nimport Layout from \"./layout\"\nimport SEO from \"./seo\"\nimport Books from \"./books\"\nimport BackButton from \"./back-button\"\n\nconst FILTER = {\n  year: \"year\",\n  title: \"title\",\n  author: \"author\",\n  genre: \"genre\",\n}\nconst Library = ({ location, library }) => {\n  const readingBooks = []\n  const readedBooks = []\n\n  const sortedBooks = library.books.sort(\n    (a, b) =>\n      new Date(b.readings[0].end_date) - new Date(a.readings[0].end_date)\n  )\n\n  sortedBooks.forEach(b => {\n    if (b.readings[0].end_date) {\n      readedBooks.push(b)\n    } else {\n      readingBooks.push(b)\n    }\n  })\n\n  const lastReading = sortedBooks[sortedBooks.length - 1].readings[0]\n  const lastYear = lastReading.end_date\n    ? new Date(lastReading.end_date).getFullYear()\n    : new Date(lastReading.start_date).getFullYear()\n  const now = new Date()\n\n  const selectYears = Array.from(\n    { length: now.getFullYear() - lastYear + 1 },\n    (_, i) => {\n      const y = now.getFullYear() - i\n      return { value: y, label: y }\n    }\n  )\n\n  const title = library.name\n\n  const [books, updateBooks] = useState(\n    readedBooks.filter(b => {\n      const lastReading = b.readings[0]\n      const year = lastReading.end_date\n        ? new Date(lastReading.end_date).getFullYear()\n        : new Date(lastReading.start_date).getFullYear()\n      return year === now.getFullYear()\n    })\n  )\n\n  const [year, selectYear] = useState(selectYears[0])\n\n  return (\n    <Layout location={location} title={title}>\n      <SEO title={title} />\n      <h1>{title}</h1>\n\n      <div className=\"select-year-container\">\n        <BackButton\n          location={location}\n          path=\"/wiki/library\"\n          title=\"Librerías\"\n        />\n        <div className=\"select-year\">\n          {selectYears.length > 1 && (\n            <Select\n              value={year}\n              onChange={y => {\n                selectYear(y)\n                updateBooks(\n                  filterBooks({\n                    books: readedBooks,\n                    filters: { year: y.value + \"\" },\n                  })\n                )\n              }}\n              options={selectYears}\n              theme={theme => ({\n                ...theme,\n                borderRadius: \"var(--radius-1)\",\n                colors: {\n                  ...theme.colors,\n                  primary25: \"var(--color-folders)\",\n                  primary: \"var(--color-text)\",\n                },\n              })}\n            />\n          )}\n        </div>\n      </div>\n\n      <Books\n        readed={books}\n        reading={readingBooks}\n        wantToRead={library.want_to_read}\n      />\n    </Layout>\n  )\n}\n\nconst filterBooks = ({ books, filters }) =>\n  books.filter(b => {\n    for (let k in filters) {\n      if (k === FILTER.year) {\n        for (let r of b.readings) {\n          if (\n            new Date(r.end_date).getFullYear() ===\n            new Date(filters[k]).getFullYear()\n          ) {\n            return true\n          }\n        }\n      } else if (k === FILTER.author) {\n        if (filters[k].includes(b[k]?.name)) {\n          return true\n        }\n      } else {\n        return filters[k].includes(b[k])\n      }\n    }\n\n    return false\n  })\n\nexport default Library\n","import React from \"react\"\n\nimport Library from \"../../../components/library\"\nimport library from \"../../../../content/wiki/library/library_lule.json\"\n\nconst LibraryCharlie = ({ location }) => {\n  return <Library location={location} library={library} />\n}\n\nexport default LibraryCharlie\n"],"sourceRoot":""}